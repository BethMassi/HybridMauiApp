(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6962:(e,t,l)=>{Promise.resolve().then(l.bind(l,8895))},8895:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>h});var i=l(7437),o=l(2265);let s=function(e){let{todos:t,setTodos:l}=e;return(0,i.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault();let i={title:e.target.todo.value,id:self.crypto.randomUUID(),is_completed:!1};l(e=>[...e,i]),HybridWebView.InvokeDotNet("SetTodos",[[...t,i]]),e.target.reset()},children:[(0,i.jsx)("label",{htmlFor:"todo",children:(0,i.jsx)("input",{type:"text",name:"todo",id:"todo",placeholder:"Write your next task"})}),(0,i.jsxs)("button",{children:[(0,i.jsx)("span",{className:"visually-hidden",children:"Submit"}),(0,i.jsx)("svg",{clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:32,height:32,children:(0,i.jsx)("path",{d:"m11 11h-7.25c-.414 0-.75.336-.75.75s.336.75.75.75h7.25v7.25c0 .414.336.75.75.75s.75-.336.75-.75v-7.25h7.25c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-7.25v-7.25c0-.414-.336-.75-.75-.75s-.75.336-.75.75z",fillRule:"nonzero"})})]})]})},n=function(){return(0,i.jsxs)("header",{children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 24 24",width:40,height:40,fill:"#fff",children:(0,i.jsx)("path",{d:"m20 20h-15.25c-.414 0-.75.336-.75.75s.336.75.75.75h15.75c.53 0 1-.47 1-1v-15.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75zm-1-17c0-.478-.379-1-1-1h-15c-.62 0-1 .519-1 1v15c0 .621.52 1 1 1h15c.478 0 1-.379 1-1zm-12.751 8.306c-.165-.147-.249-.351-.249-.556 0-.411.333-.746.748-.746.178 0 .355.062.499.19l2.371 2.011 4.453-4.962c.149-.161.35-.243.554-.243.417 0 .748.336.748.746 0 .179-.065.359-.196.503l-4.953 5.508c-.148.161-.35.243-.553.243-.177 0-.356-.063-.498-.19z",fillRule:"nonzero"})}),(0,i.jsx)("h1",{children:"TODO"})]})},d=function(e){let{todos_completed:t,total_todos:l}=e;return(0,i.jsxs)("section",{className:"todohero_section",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text_large",children:"Task Done"}),(0,i.jsx)("p",{className:"text_small",children:"Keep it up"})]}),(0,i.jsxs)("div",{children:[t,"/",l]})]})};function r(e){let{item:t,todos:l,setTodos:s}=e,[n,d]=o.useState(!1),r=o.useRef(null);return o.useEffect(()=>{n&&r.current&&(r.current.focus(),r.current.setSelectionRange(r.current.value.length,r.current.value.length))},[n]),(0,i.jsx)("li",{id:null==t?void 0:t.id,className:"todo_item",children:n?(0,i.jsx)("form",{className:"edit-form",onSubmit:e=>{e.preventDefault(),window.HybridWebView.InvokeDotNet("SetTodos",[l]),d(!1)},children:(0,i.jsx)("label",{htmlFor:"edit-todo",children:(0,i.jsx)("input",{ref:r,type:"text",name:"edit-todo",id:"edit-todo",defaultValue:null==t?void 0:t.title,onBlur:()=>{window.HybridWebView.InvokeDotNet("SetTodos",[l]),d(!1)},onChange:e=>{s(l=>l.map(l=>l.id===t.id?{...l,title:e.target.value}:l))}})})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("button",{className:"todo_items_left",onClick:()=>{s(e=>e.map(e=>e.id===t.id?{...e,is_completed:!e.is_completed}:e)),window.HybridWebView.InvokeDotNet("SetTodos",[l])},children:[(0,i.jsx)("svg",{clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:34,height:34,stroke:"#22C55E",fill:t.is_completed?"#22C55E":"#0d0d0d",children:(0,i.jsx)("circle",{cx:"11.998",cy:"11.998",fillRule:"nonzero",r:"9.998"})}),(0,i.jsx)("p",{style:t.is_completed?{textDecoration:"line-through"}:{},children:null==t?void 0:t.title})]}),(0,i.jsxs)("div",{className:"todo_items_right",children:[(0,i.jsxs)("button",{onClick:()=>{d(!0)},children:[(0,i.jsx)("span",{className:"visually-hidden",children:"Edit"}),(0,i.jsx)("svg",{clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:32,height:34,children:(0,i.jsx)("path",{d:"m11.25 6c.398 0 .75.352.75.75 0 .414-.336.75-.75.75-1.505 0-7.75 0-7.75 0v12h17v-8.749c0-.414.336-.75.75-.75s.75.336.75.75v9.249c0 .621-.522 1-1 1h-18c-.48 0-1-.379-1-1v-13c0-.481.38-1 1-1zm1.521 9.689 9.012-9.012c.133-.133.217-.329.217-.532 0-.179-.065-.363-.218-.515l-2.423-2.415c-.143-.143-.333-.215-.522-.215s-.378.072-.523.215l-9.027 8.996c-.442 1.371-1.158 3.586-1.264 3.952-.126.433.198.834.572.834.41 0 .696-.099 4.176-1.308zm-2.258-2.392 1.17 1.171c-.704.232-1.274.418-1.729.566zm.968-1.154 7.356-7.331 1.347 1.342-7.346 7.347z",fillRule:"nonzero"})})]}),(0,i.jsxs)("button",{onClick:()=>{s(e=>e.filter(e=>e.id!==t.id)),window.HybridWebView.InvokeDotNet("SetTodos",[l.filter(e=>e.id!==t.id)])},children:[(0,i.jsx)("span",{className:"visually-hidden",children:"Delete"}),(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 24 24",width:32,height:34,children:(0,i.jsx)("path",{d:"m4.015 5.494h-.253c-.413 0-.747-.335-.747-.747s.334-.747.747-.747h5.253v-1c0-.535.474-1 1-1h4c.526 0 1 .465 1 1v1h5.254c.412 0 .746.335.746.747s-.334.747-.746.747h-.254v15.435c0 .591-.448 1.071-1 1.071-2.873 0-11.127 0-14 0-.552 0-1-.48-1-1.071zm14.5 0h-13v15.006h13zm-4.25 2.506c-.414 0-.75.336-.75.75v8.5c0 .414.336.75.75.75s.75-.336.75-.75v-8.5c0-.414-.336-.75-.75-.75zm-4.5 0c-.414 0-.75.336-.75.75v8.5c0 .414.336.75.75.75s.75-.336.75-.75v-8.5c0-.414-.336-.75-.75-.75zm3.75-4v-.5h-3v.5z",fillRule:"nonzero"})})]})]})]})})}let c=function(e){let{todos:t,setTodos:l}=e;return(0,i.jsx)("ol",{className:"todo_list",children:t&&t.length>0?null==t?void 0:t.map((e,o)=>(0,i.jsx)(r,{item:e,todos:t,setTodos:l},o)):(0,i.jsx)("p",{children:"Seems lonely in here, what are you up to?"})})},h=function(){let[e,t]=o.useState([]);o.useEffect(()=>{window.globalSetData=function(e){return console.log("New data arrived with "+e.length+" item(s)"),t(e),"null"},console.log("Start loading..."),HybridWebView.InvokeDotNet("StartTaskLoading")},[]);let l=e.filter(e=>!0==e.is_completed).length,r=e.length;return(0,i.jsxs)("div",{className:"wrapper",children:[(0,i.jsx)(n,{}),(0,i.jsx)(d,{todos_completed:l,total_todos:r}),(0,i.jsx)(s,{todos:e,setTodos:t}),(0,i.jsx)(c,{todos:e,setTodos:t})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[130,215,744],()=>t(6962)),_N_E=e.O()}]);